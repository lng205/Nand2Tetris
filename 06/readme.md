# 六、汇编器

> Since the translation from mnemonics and symbols to binary
> code is straightforward, it makes sense to write low-level programs directly
> in symbolic notation and have a computer program translate them into
> binary code.

## 总结

汇编器将汇编语言翻译成机器码，让人们免于直接通过机器码控制计算机。

汇编器的原理，在完成前五章之后，已显得较为清晰。汇编器的翻译过程实际上可以通过纸笔，以人工方式完成。如何将这个过程设计成程序，让计算机来实现，是本章的要点。

本章通过高级语言设计汇编器。早期的汇编器软件大概得用汇编语言设计，再人工翻译成机器码来实现。

## 背景

除了对指令符号的映射和注释功能外，汇编器的一个重要功能是对自定义符号的支持。

汇编代码允许将程序中一行的位置定义为一个符号(label)，也可以将数据内存的一个位置定义为符号(variable)，这实际都是内存地址值到符号的映射。

符号的功能是通过汇编器中的符号表实现的。符号提高了可读性，降低了开发难度。

## 符号处理

汇编语言允许标签在定义前被使用。为实现此功能，汇编器可以先读一遍程序，将标签加入符号表，再读第二遍，将程序翻译为机器码。

## 代码

假设提供的汇编程序均无语法错误，使用任意高级语言实现汇编器。

除了逐行的汇编翻译外，汇编器还可以添加对微语句的支持，即允许用一条汇编语句表达多行机器码。

编译器通常也可以将高级语言翻译为汇编代码，为程序提供硬件平台级别的设计优化。