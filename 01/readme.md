# 一、布尔逻辑

## 总结

本章从与非门开始，搭建了与、或、非、异或门、数据选择器、数据分配器，以及他们的多路输入和多位扩展。

所有组合逻辑函数均可表示为真值的与或组合式，与或非均可由与非门实现，进而可以通过与非门实现所有的组合逻辑。

逻辑式化简：配凑、裂项、反演律等。

一个逻辑函数的外部特性是唯一的，但是实现方式是多样的。需综合考虑门的数目、类型及连接数进行优化设计。

第一节课，要读的材料较多。本课程所用HDL的语法与Verilog不同，介绍在附录中。硬件仿真器有个[使用教程](https://www.nand2tetris.org/_files/ugd/44046b_02055f8bb5ac47648c0ab642f01c1919.pdf)。



## 电子电路复习

课程的最底层是与非门(Nand Gate)。课程假设已有可靠且充足的与非门，并将其作为一切的基础。

既然学过模数电，不妨再向底层探索，趁此复习一番。

### 半导体

硅原子核最外层有4个电子。

单晶硅由整齐排列的硅原子构成，每个硅原子可以和相邻四个硅原子形成共价键，构成8电子稳定结构，称为 *本征半导体*。

本征半导体内的自由电子主要来自热量激发，导电性差。


### PN结&二极管

在硅片内掺入硼、磷等3、5价杂质，可构成P区和N区，分别含有较多的空穴和自由电子，即载流子，导电性明显增强。

将P、N区相邻制作在一块硅片上，构成具有单向导电性PN结，即二极管。

PN结两侧载流子存在浓度差，导致扩散运动，在中间形成载流子浓度较低的耗尽层。

若加上外电场促进扩散运动，压缩耗尽层，可使扩散运动不断进行，PN结导通。

而若外电场从N区指向P区，抑制扩散运动，耗尽层增大，结的导电性变差，PN结关断。


### 三极管

#### BJT

双极型晶体管。将中间为公共区域的两个PN结制作在一起，可构成具有开关功能的三极管。

具有导通电阻小，驱动电流大的优点。


#### MOS管

金属氧化物场效应管。原理为通过电场而非电流控制电路通断。

在杂质半导体上制作制作两块高掺杂的另一极性区域，通过外加电场控制两个区域间的通断。

具有控制端无电流因此功耗低翻转快，及阻断时电阻更大等优点。


### CMOS

根据二、三极管的控制作用，结合电源电阻，可实现多种结构的门电路。

使用最广泛的是CMOS门电路，即互补MOS管构成的与非门电路。

CMOS结构具有静态功耗小的优点。


### 扇出

MOS门电路扇出时，次级的级间电容会由于并联线性增加，进而增大电路的翻转时间。


### OC/OD门

OC/OD门指输出端开路的门电路，工作时需外接电源电阻。此结构可避免大电流流过三极管，实现对大电流的控制，同时还可实现线与、输出电平变换等功能。



### 传输门

时序逻辑中常用到MOS传输门。通过互补MOS结构，确保门开启时两管不会都进入恒流区，以使导通电阻小。


### 三态门

在数字电路输出端常用三态门，除高低电平外还可输出接近开路的高阻态，可实现总线和输入输出复用等结构。

上下管控制端加入使能管脚，使两管均阻断即可。


## HDL语言

芯片名称以大写字母开头，管脚以小写字母开头。

代码结构：注释 -> API -> 实现

管脚只可接至一个输入端，但可接多个输出端。

管脚连接中，等号左边为被调用模块内的管脚。


## 软件工具

bat为Windows端，sh为Unix端启动器。

设计完hdl文件后load对应的tst脚本进行测试即可。

可使用内置的模块提高仿真效果，只要目录下无对应模块文件即会调用内置模块。

注意使设计顺序与书中一致，可实现仅用与非门搭建所有模块的效果。


## 代码

数电内容的子集，没啥好说。写起来有不少繁琐的地方。

这种轻量化的HDL工具上手比Vivado容易许多，同时该有的功能都有。对初学者很友好。